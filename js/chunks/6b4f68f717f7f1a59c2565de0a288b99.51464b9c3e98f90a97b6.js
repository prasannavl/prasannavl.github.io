webpackJsonp(["6b4f68f717f7f1a59c2565de0a288b99"],{"./src/components/Article.jsx":function(a,b,c){"use strict";function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=c("./node_modules/react/index.js"),i=c.n(h),j=c("./src/components/Head.jsx"),k=c("./node_modules/date-fns/format/index.js"),l=c.n(k),m=c("./src/modules/prism.worker.js"),n=c.n(m),o=c("./node_modules/classnames/index.js"),p=c.n(o),q=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},r=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),s=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={code:null},c.workerState=null,c.workerTask=null,c.worker=null,c}return g(b,a),r(b,[{key:"highlight",value:function(a){var b=this,c=a.children,d=a.lang;if(d){c=this.trimChildString(c);var e=this.workerTask=this.worker.highlight({code:c.toString(),lang:d}).then(function(a){e===b.workerTask&&b.setState({code:a})}).catch(function(a){return console.log(a)})}}},{key:"componentWillMount",value:function(){window.highlightWorkerState||(window.highlightWorkerState={worker:new n.a,ref:0}),this.workerState=window.highlightWorkerState,this.workerState.ref++,this.worker=this.workerState.worker,this.highlight(this.props)}},{key:"componentDidUpdate",value:function(a){this.props!=a&&this.highlight(a)}},{key:"componentWillUnmount",value:function(){this.workerState.ref--,0===this.workerState.ref&&(this.worker.terminate(),window.highlightWorkerState=null),this.workerTask=null,this.workerState=null,this.worker=null}},{key:"trimChildString",value:function(a){return"string"==typeof a&&a.startsWith("\n")?a.trim():a}},{key:"render",value:function(){var a=this.props,b=a.children,c=a.lang,e=a.className,f=d(a,["children","lang","className"]);b=this.state.code?this.state.code:this.trimChildString(b);var g=-1===b.indexOf("\n"),i=p()(e,{"single-line":g}),j=void 0;return j=i?{className:i}:{},Object(h.createElement)("pre",q({},f,j),Object(h.createElement)("code",{dangerouslySetInnerHTML:{__html:b}}))}}]),b}(i.a.Component),t=c("./src/components/Link.jsx");c.d(b,"a",function(){return u}),c.d(b,"b",function(){return s}),c.d(b,"c",function(){return t.a}),c.d(b,!1,function(){});var u=function(a){var b=a.title,c=a.date,d=a.modifiedDate,e=a.image,f=a.type,g=a.children,i=a.note,k="Prasanna Loganathar",m=a.description||(i?"Prasanna's personal notes on ":"Prasanna's blog article published on ")+new Date(c).toUTCString(),n=window.location.pathname.startsWith("/drafts");return Object(h.createElement)("article",null,Object(h.createElement)(j.b,null,b),Object(h.createElement)(j.c,{title:b,description:m,image:e}),Object(h.createElement)(j.a,{title:b,description:m,image:e,url:window.location.href,type:f||"article",author:k,time:c,modifiedTime:d}),Object(h.createElement)("header",{className:"mb-4"},Object(h.createElement)("h1",{className:"title",rel:"title"},b),Object(h.createElement)("p",{className:"d-none",rel:"author"},k),Object(h.createElement)("p",{className:"small text-muted",rel:"date"},Object(h.createElement)("time",{dateTime:c},l()(new Date(c),"dddd, Do MMM YYYY")))),n&&Object(h.createElement)("p",{className:"note-red"},"This is a ",Object(h.createElement)("strong",null,"draft")," - a work in progress. It's not yet meant for public consumption till it's published."),a.note&&Object(h.createElement)("p",{className:"note"},"This item is marked as a ",Object(h.createElement)("code",null,"note"),". ",Object(h.createElement)("em",null,"Notes")," are my personal archive of mostly tiny bits of information that serve as reference. It ",Object(h.createElement)("strong",null,"may or may not")," be accurate. ",Object(h.createElement)("strong",null,"You have been warned"),"."),g)}},"./src/modules/prism.worker.js":function(a,b,c){var d=c("./node_modules/workerize-loader/dist/rpc-wrapper.js"),e=["highlight"];a.exports=function(){var a=new Worker(c.p+"js/workers/main.f7818a85dcc0292261c3.worker.js",{name:"js/workers/[id].[chunkhash].worker.js"});return d(a,e),a}},"./src/posts/2016/03/crash-analysis-windows-bsod-netwbw02-sys.jsx":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),c.d(b,"meta",function(){return q});var d=c("./node_modules/react/index.js"),e=c.n(d),f=c("./src/components/Article.jsx"),g=c("./src/posts/2016/03/data/data-1.txt"),h=c.n(g),i=c("./src/posts/2016/03/data/data-2.txt"),j=c.n(i),k=c("./src/posts/2016/03/data/data-3.txt"),l=c.n(k),m=c("./src/posts/2016/03/data/data-4.txt"),n=c.n(m),o=c("./src/posts/2016/03/data/data-5.txt"),p=c.n(o),q={title:"Crash Analysis: Windows BSOD - Netwbw02.sys",date:"2016-03-05T06:54:09.738Z",tags:["windows","kernel","crash-analysis"],description:"Crash analysis of the networking stack bug in Netwbw02.sys in Windows 10"};b["default"]=function(){return Object(d.createElement)(f.a,q,Object(d.createElement)("p",{className:"note"},"This issue has been filed with Microsoft, and the current state of the issue can be followed up on Microsoft TechNet if you're affected by it or would like to add on to it here: ",Object(d.createElement)("a",{href:"https://social.technet.microsoft.com/Forums/en-US/57253a48-dce8-40cd-b66a-31fe30af7c47/windows-10-netwbw02sys-crash-on-all-threshold-and-redstone-builds-so-far?forum=win10itprogeneral"},"Windows 10: Netwbw02.sys crash on all Threshold and Redstone builds (so far)")),Object(d.createElement)("h2",null,"Affected Configuration"),Object(d.createElement)("ul",null,Object(d.createElement)("li",null,"Windows 10 - OS Build 10586+"),Object(d.createElement)("li",null,"Intel Dual-Band Wireless AC 3160")),Object(d.createElement)("h2",null,"Error Codes"),Object(d.createElement)("ul",null,Object(d.createElement)("li",null,"DRIVER_IRQL_NOT_LESS_OR_EQUAL"),Object(d.createElement)("li",null,"0xdead039e"),Object(d.createElement)("li",null,"0xdead7495")),Object(d.createElement)("h2",null,"Context"),Object(d.createElement)("p",null,"Initally, I had few BSOD with the ",Object(d.createElement)("code",null,"Netwb02.sys")," (Intel's WiFi driver) during the Windows Insider builds, with ",Object(d.createElement)("code",null,"DRIVER_IRQL_NOT_LESS_OR_EQUAL"),". That's a straight forward issue with the self-explanatory problem code - the driver is accessing improper memory addresses which ended up in higher IRQL. Obviously, Intel's WiFi Driver is the culprit there. However, I also noticed the system crashing ocassionally with error code ",Object(d.createElement)("code",null,"0xdead039e"),", and also at times, with the ",Object(d.createElement)("code",null,"0xdead7495")," errors."),Object(d.createElement)("p",null,"Looking at all of these error stacks pointed to the same driver. The culprit was always the ",Object(d.createElement)("code",null,"Netwb02.sys"),". It seems that Intel's driver is highly buggy. Initially, I attributed it to Intel's driver not yet up-to-date with the Insider builds, which is expected and perfectly reasonable. However as the issue started being disruptive with BSODs a few times a week, I went back to the stable retail build - 10586. But to no luck. Though, the frequency was seemingly reduced, the crashes still occured."),Object(d.createElement)("style",null,"\n            .ctx-image-set {\n                display: flex;\n                flex-flow: row wrap;\n                justify-content: center;\n            }\n            .ctx-image-set img {\n                padding: 4px;\n                height: 100%;\n                width: calc(50% - 8px);\n            }\n            @media (max-width: 600px) {\n                .ctx-image-set img {\n                    width: calc(100% - 8px);\n                }\n            }\n        "),Object(d.createElement)("p",{className:"ctx-image-set"},Object(d.createElement)("img",{src:c("./src/posts/2016/03/data/screen-1.jpg"),alt:"[Screenshot 1]"}),Object(d.createElement)("img",{src:c("./src/posts/2016/03/data/screen-2.jpg"),alt:"[Screenshot 2]"}),Object(d.createElement)("img",{src:c("./src/posts/2016/03/data/screen-3.jpg"),alt:"[Screenshot 3]"}),Object(d.createElement)("img",{src:c("./src/posts/2016/03/data/screen-4.jpg"),alt:"[Screenshot 4]"})),Object(d.createElement)("h2",null,"Analysis"),Object(d.createElement)("p",null,"While the sheer number of times this crash happened, and the frustration due to the driver made me document this on my personal weblog, ",Object(d.createElement)("strong",null,"this issue is blissfully straight forward, and a no-brainer to analyze"),"."),Object(d.createElement)("p",null,"So, starting with ",Object(d.createElement)("code",null,"0xdead039e")," error."),Object(d.createElement)(f.b,{children:h.a}),Object(d.createElement)("p",null,"Moving on to the next: ",Object(d.createElement)("code",null,"0xdead7495")),Object(d.createElement)(f.b,{children:j.a}),Object(d.createElement)(f.b,{children:l.a}),Object(d.createElement)("p",null,"Now to the last ",Object(d.createElement)("code",null,"DRIVER_IRQL_NOT_LESS_OR_EQUAL")," error:"),Object(d.createElement)(f.b,{children:n.a}),Object(d.createElement)("p",null,"Another variant of ",Object(d.createElement)("code",null,"DRIVER_IRQL_NOT_LESS_OR_EQUAL")," error:"),Object(d.createElement)(f.b,{children:p.a}),Object(d.createElement)("p",null,"Clearly, its all caused by Intel's Netwbw02.sys. However, no common direct entry points, though a few addresses seem to be the same. I could dig in and explore the addresses. But it makes no sense, since this driver seems to be highly bugged. And it just isn't worth the trouble doing this without the symbols for the drivers, as clearly Intel has quite a lot of work to be done on this driver. Will just have to wait for Intel to fix this."),Object(d.createElement)("h2",null,"Minidumps"),Object(d.createElement)("p",null,"As usual, I've shared the full dumps with Microsoft. Hopefully, they'll forward it to Intel. And again, as always all the minidumps for the inquistive minds:"),Object(d.createElement)("p",null,Object(d.createElement)("strong",null,"2016-Q1-Kernel-Netwbw02.sys")," (OneDrive folder with all the dumps):",Object(d.createElement)("br",null),Object(d.createElement)("a",{href:"https://1drv.ms/f/s!Agt9I4vUjzpCg4d2HQVRGdmUMQM92w"},"https://1drv.ms/f/s!Agt9I4vUjzpCg4d2HQVRGdmUMQM92w")),Object(d.createElement)("p",null,"They contain different dumps with different versions of the drivers, and Windows updates as and when it was released. Each of them seems to have mild variations in their stacks (Possible multiple issues)."))}},"./src/posts/2016/03/data/data-1.txt":function(a){a.exports="1: kd> lmvm Netwbw02\nBrowse full module list\nstart             end                 module name\nfffff801`6d400000 fffff801`6d789000   Netwbw02   (no symbols)\n    Loaded symbol image file: Netwbw02.sys\n    Image path: \\SystemRoot\\System32\\drivers\\Netwbw02.sys\n    Image name: Netwbw02.sys\n    Browse all global symbols  functions  data\n    Timestamp:        Tue Nov 03 20:00:10 2015 (5638C4F2)\n    CheckSum:         00364A95\n    ImageSize:        00389000\n    Translations:     0000.04b0 0000.04e4 0409.04b0 0409.04e4\n1: kd> k\n # Child-SP          RetAddr           Call Site\n00 ffffd001`00e627a8 fffff801`6d460470 nt!KeBugCheckEx\n01 ffffd001`00e627b0 fffff801`6d5f7475 Netwbw02+0x60470\n02 ffffd001`00e627f0 fffff801`6d5f8fe0 Netwbw02+0x1f7475\n03 ffffd001`00e62840 fffff801`6d5f55fa Netwbw02+0x1f8fe0\n04 ffffd001`00e62870 fffff801`6d5f5e3c Netwbw02+0x1f55fa\n05 ffffd001`00e628f0 fffff801`6d5f30b4 Netwbw02+0x1f5e3c\n06 ffffd001`00e62980 fffff801`6d45c3de Netwbw02+0x1f30b4\n07 ffffd001`00e629d0 fffff801`6800aa4e Netwbw02+0x5c3de\n08 ffffd001`00e62a00 fffff801`6802105d ndis!ndisQueuedMiniportDpcWorkItem+0x24e\n09 ffffd001`00e62b40 fffff802`f6c96125 ndis!ndisReceiveWorkerThread+0x21d\n0a ffffd001`00e62c10 fffff802`f6dd4916 nt!PspSystemThreadStartup+0x41\n0b ffffd001`00e62c60 00000000`00000000 nt!KiStartSystemThread+0x16"},"./src/posts/2016/03/data/data-2.txt":function(a){a.exports="Unknown bugcheck code (dead7495)\nUnknown bugcheck description\nArguments:\nArg1: 00000000121e0009\nArg2: 000000000125027e\nArg3: 0000000011af0000\nArg4: 0000000000000000"},"./src/posts/2016/03/data/data-3.txt":function(a){a.exports="0: kd> k\n # Child-SP          RetAddr           Call Site\n00 fffff801`89802248 fffff801`24460470 nt!KeBugCheckEx\n01 fffff801`89802250 00000000`dead7495 Netwbw02+0x60470\n02 fffff801`89802258 00000000`121e0009 0xdead7495\n03 fffff801`89802260 00000000`0125027e 0x121e0009\n04 fffff801`89802268 00000000`11af0000 0x125027e\n05 fffff801`89802270 00000000`00000000 0x11af0000"},"./src/posts/2016/03/data/data-4.txt":function(a){a.exports="1: kd> lmvm Netwbw02\nBrowse full module list\nstart             end                 module name\nfffff801`59c00000 fffff801`59f89000   Netwbw02 T (no symbols)\n    Loaded symbol image file: Netwbw02.sys\n    Image path: \\SystemRoot\\System32\\drivers\\Netwbw02.sys\n    Image name: Netwbw02.sys\n    Browse all global symbols  functions  data\n    Timestamp:        Tue Nov 03 20:00:10 2015 (5638C4F2)\n    CheckSum:         00364A95\n    ImageSize:        00389000\n    Translations:     0000.04b0 0000.04e4 0409.04b0 0409.04e4\n1: kd> k\n # Child-SP          RetAddr           Call Site\n00 ffffd000`ac6b5b18 fffff803`281642e9 nt!KeBugCheckEx\n01 ffffd000`ac6b5b20 fffff803`28162ac7 nt!KiBugCheckDispatch+0x69\n02 ffffd000`ac6b5c60 fffff801`59c3b3ac nt!KiPageFault+0x247\n03 ffffd000`ac6b5df0 ffffe000`feeb5010 Netwbw02+0x3b3ac\n04 ffffd000`ac6b5df8 fffff801`59c4f80f 0xffffe000`feeb5010\n05 ffffd000`ac6b5e00 00000000`00000000 Netwbw02+0x4f80f"},"./src/posts/2016/03/data/data-5.txt":function(a){a.exports="3: kd> k\n # Child-SP          RetAddr           Call Site\n00 ffffd000`2843fb58 fffff803`085592e9 nt!KeBugCheckEx\n01 ffffd000`2843fb60 fffff803`08557ac7 nt!KiBugCheckDispatch+0x69\n02 ffffd000`2843fca0 fffff801`e956b3ac nt!KiPageFault+0x247\n03 ffffd000`2843fe30 ffffe001`96caf010 Netwbw02+0x3b3ac\n04 ffffd000`2843fe38 fffff801`e957f75c 0xffffe001`96caf010\n05 ffffd000`2843fe40 ffffe001`96caf010 Netwbw02+0x4f75c\n06 ffffd000`2843fe48 00000000`00000000 0xffffe001`96caf010"},"./src/posts/2016/03/data/screen-1.jpg":function(a,b,c){a.exports=c.p+"img/screen-1.25811ad2119bd560e8ffaaf7cf3521ea.jpg"},"./src/posts/2016/03/data/screen-2.jpg":function(a,b,c){a.exports=c.p+"img/screen-2.ab88b349a1230268fe38d0b611a84584.jpg"},"./src/posts/2016/03/data/screen-3.jpg":function(a,b,c){a.exports=c.p+"img/screen-3.67cb6c3bb36b49edc423d3f89550ae5d.jpg"},"./src/posts/2016/03/data/screen-4.jpg":function(a,b,c){a.exports=c.p+"img/screen-4.679f507cbc77d269490559efc664e59c.jpg"}});